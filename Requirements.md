# 微众银行区块链实训大作业

## 项目需求分析

### 宠物商店(PetStore)，是一个宠物售卖/转卖的分布式市场应用。相关角色如下：

|角色|职责|
|:-|-|
|管理员|负责市场的初始化、账户的开户、积分（货币）的下发以及市场的监控。|
|用户|考虑到宠物可以转卖，所以这里可以不用特意区分卖家和买家，只需要在管理员给一个用户开户即初始化时，可以选择开户时带有一定的宠物，也可以选择开户时带有一定的积分（货币），积分（货币）在两种用户间通过宠物售卖/转卖的方式流通。当用户欲购买但积分（货币）不足时，可以通过管理员下发的形式（或者添加一种比赛功能比如宠物技能大赛，每个宠物都有一定概率获胜，获胜后能获取一定的积分），以此提高积分（货币）的流通率。|
|宠物|该应用主要的交易品，每个宠物有一定的价值，可以通过售卖/转卖的方式交易积分（货币）。|
|市场|主要展示在售宠物的列表。|

### 参考实现：

- 首先管理员在链上为一个人开户，出售人和购买人本质上都是自然人，其基本属性是名字和帐户余额，以及名下的宠物列表。
- 人可以创建一个宠物，一个宠物被创建后，挂接到一个人的名下，在被失效之前，就一直有效，宠物被创建时并没有价格
- 宠物上架时可以制定一个价格，被置为上架状态
- 宠物上架后可写入一个市场合约，所有人都可以看到
- 购买人选择市场里的宠物，发起购买，进入交易合约，交易合约判断有效状态，如果是在售的，就允许交易，否则拒绝，如果允许交易的，则判断购买人余额是否足够，进行扣款，并将款项写入出售人帐户，将宠物转给购买人。生成一个购买订单记录。
- 如果购买人觉得货不对板或售卖人反悔，可以发起仲裁，将相关信息全部发给监督员，审计人根据订单情况，进行仲裁（模拟），如果仲裁为交易无效，则冲正上述款项和宠物归属。可通过权限体系，使得只有监督员可以操作冲正接口。

### 参考基本合约列表

- 帐户管理合约
- 市场合约
- 交易合约
- 冲正管理合约


## 开发需求汇总

### 前端开发需求

- [#001](./WebRequirements/001%20创建项目.md) 创建项目

### 智能合约开发需求

- [#101](./ServerRequirements/101%20创建项目.md) 创建项目
